define("scalejs.autocomplete-select2/autocomplete",["scalejs!core","knockout","jQuery","select2","scalejs.mvvm"],function(e,t,n){function a(e){return u(e,"string")?e:u(e,"array")&&e.length>0?e[0]:void 0}function o(e){return u(e,"string")?e:u(e,"array")&&e.length>1?e.shift(1):void 0}function r(e,t,n,c,i){return e.map(function(e){var s,l,d,p=a(c),m=a(t),f=a(n);return f?d=e[f]:u(e,"string")?d=e:(console.warn("Input has not specified text field"),d="No Text Specified"),e.hasOwnProperty(p)&&(s=r(e[p],o(t),o(n),o(c),i),!i)?{text:d,children:s}:(l=m?e[m]:e,i?{text:d,id:l,children:s}:{text:d,id:l})})}function c(e,a){var o,c,i,d,p,m=a(),f=m.select2,v=m.itemsSource,y=m.itemTemplate,h=m.selectedItemTemplate,g=m.idPath,b=m.textPath,k=m.childPath,x=m.queryText,j=m.selectedItem,T=m.selectGroupNodes,w=m.customFiltering;void 0===f&&(f={}),w?f.query=function(e){p&&p.dispose(),p=s(function(){data={results:r(v(),g,b,k,T)},u(data.results,"array")||(console.warn("itemsToShow must return an array"),data.results=[]),e.callback(data)})}:l(v)?f.data=function(){var e=r(v(),g,b,k,T);return{results:e}}:v&&(f.data=r(v,g,b,k,T)),y&&(n("body").append('<div id="dummy_div" data-bind="template: { name: template, data: data }"></div>'),d=document.getElementById("dummy_div"),n(d).hide(),o=function(e){return function(n){return t.cleanNode(d),d.innerText="",t.applyBindings({template:e,data:g?n:n.id},d),d.innerHTML}},f.formatResult=o(y),f.formatSelection=f.formatResult,h&&(f.formatSelection=o(h)),f.hasOwnProperty("escapeMarkup")||(f.escapeMarkup=function(e){return e})),n(e).select2(f),n(e).on("change",function(e){j(e.val)}),c=n(e).select2("container"),i=n(c).find(".select2-drop .select2-search .select2-input"),x&&(n(i).on("keyup",function(){x(n(i).val())}),n(e).on("select2-open",function(){n(i).val(x())})),t.utils.domNodeDisposal.addDisposeCallback(e,function(){n(e).select2("destroy")})}function i(e,t,n,a){c(e,t,n,a)}var s=(t.observable,t.computed),l=(t.unwrap,t.isObservable),u=(e.object.merge,e.type.is);return{init:i}}),define("scalejs.autocomplete-select2",["knockout","./scalejs.autocomplete-select2/autocomplete"],function(e,t){e.bindingHandlers.autocomplete=t});