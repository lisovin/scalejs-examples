define("text!scalejs.tabs-jqueryui/tabs.html",[],function(){return'\r\n<div id="tabs_template">\r\n    <div class="tabs" style="height:100%">\r\n       \r\n        <div data-class="tabs-header-right" style="position:absolute;right:0px;"></div>\r\n        <ul class="tab-headers">\r\n            <!-- ko class: tabs-sortable -->\r\n            <!-- /ko -->\r\n             <li class="unsortable"><a href="#tabs-add" data-class="tabs-add">+</a></li> \r\n        </ul>\r\n               \r\n        <!-- ko class: tabs-items-source -->\r\n        <div data-class="tabs-content-container">\r\n            <!-- ko class:tabs-content-template -->\r\n            <!-- /ko -->\r\n        </div>\r\n        <!-- /ko -->\r\n    </div>\r\n\r\n</div>\r\n\r\n<div id="tabs_content_default_template">\r\n     <p data-bind="text: $data"></p>\r\n</div>\r\n\r\n\r\n<div id="tabs_header_item_template">\r\n    <li>\r\n        <a data-class="tabs-header">\r\n            <div class="tabs-header-text" data-class="tabs-header-text"></div>\r\n        </a>\r\n        <div class="iconClose" data-class="tab-close"></div>\r\n        <div class="iconMax" data-class="tab-max"></div>\r\n    </li>\r\n</div>\r\n\r\n<div id ="tabs_menu_temp_template">\r\n    <div class="tabs-menu">\r\n        <!-- ko foreach: menuItems -->\r\n            <div class="tabs-menu-item" data-bind="text: header, click: addTab"></div>\r\n        <!-- /ko -->\r\n    </div> \r\n</div>'}),define("scalejs.tabs-jqueryui/tabsBindings",{"tabs-header":function(t){return{attr:{href:"#tabs-"+t.$index()},click:function(t,e){e.preventDefault()}}},"tabs-header-text":function(){return{text:this.header}},"tabs-content-container":function(t){return{attr:{id:"tabs-"+t.$index()}}},"tabs-items-source":function(){return{foreach:{data:this.itemsSource,afterAdd:this.refreshTabs}}},"tabs-header-edit":function(){return{value:this.header,valueUpdate:"afterkeydown"}},"tabs-content-template":function(t){var e=this.contentTemplate||t.$parent.contentTemplate||"tabs_content_default_template";return{template:{name:e,data:this.content}}},"tabs-header-right":function(){return this.headerTemplate?{template:{name:this.headerTemplate,data:this.content}}:{}},"tab-close":function(t){var e=t.$parent.itemsSource,a=t.$parent.refreshTabs;return{click:function(){e.remove(t.$data),a()}}},"tab-max":function(){return{click:function(t){console.log("maximixing",t)}}},"tabs-sortable":function(){return{sortable:{template:"tabs_header_item_template",data:this.itemsSource,options:this.sortOptions,afterMove:this.afterMove}}},"tabs-add":function(){var t=this;return{click:function(){t.itemsSource.push(t.defaultItems()[0].create())}}}}),define("scalejs.tabs-jqueryui",["scalejs!core","knockout","jQuery","text!./scalejs.tabs-jqueryui/tabs.html","./scalejs.tabs-jqueryui/tabsBindings","scalejs.mvvm","bPopup","knockout-sortable"],function(t,e,a,n,i){function s(n,i){return function(){function s(t){d.tabs("refresh"),l.unbind(),d.tabs("option","active",t||d.tabs("option","active")),d.find(".ui-tabs-panel").each(function(){var t=d.height(),e=d.find(".tab-headers").height();a(this).height(t-e)}),l.unbind().click(function(t){t.preventDefault(),u.itemsSource.push(u.defaultItems()[0].create()),d.tabs("option","active",u.itemsSource.length-2),s()})}function r(){var n=a(e.virtualElements.firstChild(i)).parent();a.widget("ui.tabs",a.ui.tabs,{options:{keyboard:!0},_tabKeydown:function(){return this.options.keyboard?(this._super("_tabKeydown"),void 0):!1}}),d=a(a(n).find(".tabs")).tabs({activate:function(t,e){var n=a(e.newPanel).find(".orders-grid");n.length>0&&(a(n[0]).data("slickgrid").resizeCanvas(),a(n[0]).data("slickgrid").invalidate())}}),d.delegate("a.ui-tabs-anchor","dblclick",function(){var t,n=e.dataFor(this).header,i=this;c(n)&&(a(i).find("[data-class='tabs-header-text']").replaceWith("<input data-class='tabs-header-edit' />"),t=a(i).find("input"),e.applyBindings(e.dataFor(this),t.get(0)),t.focus(),t.bind("keyup",function(n){var s=n.keyCode||n.which;13==s&&(t.replaceWith("<div class='tabs-header-text' data-class='tabs-header-text'></div>"),e.applyBindings(e.dataFor(i),a(i).find("[data-class='tabs-header-text']").get(0)))}),t.bind("blur",function(){t.replaceWith("<div class='tabs-header-text' data-class='tabs-header-text'></div>"),e.applyBindings(e.dataFor(i),a(i).find("[data-class='tabs-header-text']").get(0))}))}),t.layout&&t.layout.onLayoutDone&&t.layout.onLayoutDone(function(){d.find(".ui-tabs-panel").each(function(){var t=d.height(),e=d.find(".tab-headers").height();a(this).height(t-e)})})}var d,o,l,u=n();return u.sortOptions={items:"li:not(.unsortable)",axis:"x",start:function(){d.find("[href='#tabs-add']").css("display","none")},stop:function(){d.find("[href='#tabs-add']").css("display","block")}},u.afterMove=function(t){s(t.targetIndex)},u.refreshTabs=s,{data:u,name:"tabs_template",afterRender:function(){var t=a(e.virtualElements.firstChild(i)).parent();r(),o=a(a(t).find(".tabs-menu")),l=d.find("[href='#tabs-add']"),l.unbind().click(function(t){t.preventDefault(),u.itemsSource.push(u.defaultItems()[0].create()),d.find(".ui-tabs-panel").each(function(){var t=d.height(),e=d.find(".tab-headers").height();a(this).height(t-e)}),d.tabs("option","active",u.itemsSource.length-2)})}}}}function r(t,a,n,i,r){return e.bindingHandlers.template.update(t,s(a,t),n,i,r),{controlsDescendantBindings:!0}}var d=t.mvvm.registerTemplates,o=t.mvvm.registerBindings,c=e.isObservable;d(n),o(i),e.bindingHandlers.tabs={init:r},e.virtualElements.allowedBindings.tabs=!0,e.virtualElements.allowedBindings.sortable=!0});