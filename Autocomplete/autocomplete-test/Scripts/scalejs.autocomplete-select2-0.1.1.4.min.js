define("scalejs.autocomplete-select2/autocomplete",["scalejs!core","knockout","jQuery","select2","scalejs.mvvm"],function(e,t,n){function a(e){return u(e,"string")?e:u(e,"array")&&e.length>0?e[0]:void 0}function o(e){var t;return u(e,"string")?e:u(e,"array")&&e.length>1?(t=e.slice(),t.shift(1),1===t.length?t[0]:t):void console.warn("malformed datawhen advancing property",e)}function r(e,t,n,c,i){return e.map(function(e){var s,l,d,p=a(c),m=a(t),f=a(n);return f?d=e[f]:u(e,"string")?d=e:(console.warn("Input has not specified text field"),d="No Text Specified"),e.hasOwnProperty(p)&&(s=r(e[p],o(t),o(n),o(c),i),!i)?{text:d,children:s}:(l=m?e[m]:e,i?{text:d,id:l,children:s}:{text:d,id:l})})}function c(e,a){var o,c,i,d,p,m,f=a(),v=f.select2,h=f.itemsSource,y=f.itemTemplate,g=f.selectedItemTemplate,b=f.idPath,k=f.textPath,w=f.childPath,x=f.queryText,j=f.selectedItem,T=f.selectGroupNodes,P=f.customFiltering;void 0===v&&(v={}),P?v.query=function(e){m&&m.dispose(),m=s(function(){p={results:r(h(),b,k,w,T)},u(p.results,"array")||(console.warn("itemsToShow must return an array"),p.results=[]),e.callback(p)})}:l(h)?v.data=function(){var e=r(h(),b,k,w,T);return{results:e}}:h&&(v.data=r(h,b,k,w,T)),y&&(n("body").append('<div id="dummy_div" data-bind="template: { name: template, data: data }"></div>'),d=document.getElementById("dummy_div"),n(d).hide(),o=function(e){return function(n){return t.cleanNode(d),d.innerText="",t.applyBindings({template:e,data:b?n:n.id},d),d.innerHTML}},v.formatResult=o(y),v.formatSelection=v.formatResult,g&&(v.formatSelection=o(g)),v.hasOwnProperty("escapeMarkup")||(v.escapeMarkup=function(e){return e})),n(e).select2(v),j&&n(e).on("change",function(e){j(e.val)}),c=n(e).select2("container"),i=n(c).find(".select2-drop .select2-search .select2-input"),x&&(n(i).on("keyup",function(){x(n(i).val())}),n(e).on("select2-open",function(){n(i).val(x())})),t.utils.domNodeDisposal.addDisposeCallback(e,function(){n(e).select2("destroy")})}function i(e,t,n,a){c(e,t,n,a)}var s=(t.observable,t.computed),l=(t.unwrap,t.isObservable),u=(e.object.merge,e.type.is);return{init:i}}),define("scalejs.autocomplete-select2",["knockout","./scalejs.autocomplete-select2/autocomplete"],function(e,t){e.bindingHandlers.autocomplete=t});