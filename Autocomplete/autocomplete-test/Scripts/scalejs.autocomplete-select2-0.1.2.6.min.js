define("map-items",["scalejs!core"],function(e){function t(e){return o(e,"string")?e:o(e,"array")&&e.length>0?e[0]:void 0}function n(e){var t;return o(e,"string")?e:o(e,"array")&&e.length>1?(t=e.slice(),t.shift(1),1===t.length?t[0]:t):void console.error("malformed data when advancing property",e)}function r(e,a,i,c,s){return e.map(function(e){var l,u,d,m=t(c),f=t(a),p=t(i);return d=p?e[p]:o(e,"string")?e:"No Text Specified",e.hasOwnProperty(m)&&(l=r(e[m],n(a),n(i),n(c),s),!s)?{text:d,children:l,original:e}:(u=f?e[f]:e,s?{text:d,id:u,children:l,original:e}:{text:d,id:u,original:e})})}var o=e.type.is;return r}),define("template",["knockout","jQuery"],function(e,t){function n(){void 0===o&&(o=document.createElement("div"),t(o).hide(),o.setAttribute("data-bind","template: { name: template, data: data }"))}function r(e){return n(),function(t){for(a(o);o.firstChild;)o.removeChild(o.firstChild);return i({template:e,data:t.original},o),o.innerHTML}}var o,a=e.cleanNode,i=e.applyBindings;return r}),define("query",["scalejs!core","knockout","map-items"],function(e,t,n){function r(e,t,r,s,l){return function(u){a&&a.dispose(),a=i(function(){o={results:n(e(),t,r,s,l)},c(o.results,"array")||(console.warn("itemsToShow must return an array"),o.results=[]),u.callback(o)})}}var o,a,i=t.computed,c=e.type.is;return r}),define("scalejs.autocomplete-select2/autocomplete",["knockout","map-items","template","query","jQuery","select2","scalejs.mvvm"],function(e,t,n,r,o){function a(e,n){u(e)?(o(n).on("select2-selected",function(t){e(t.choice.id)}),e.subscribe(function(e){var r=o(n).select2("data");r&&(r=r.id),e!==r&&o(n).select2("data",t([e])[0])})):console.error("selectedItem must be an observable")}function i(e,t){var n=o(t).select2("container"),r=o(n).find(".select2-drop .select2-search .select2-input");u(e)?(o(r).on("keyup",function(){e(o(r).val())}),o(t).on("select2-open",function(){o(r).val(e())})):console.error("userInput must be an observable")}function c(e,t){u(e)&&e.subscribe(function(){o(t).select2("readonly",l(e))}),o(t).select2("readonly",l(e))}function s(s,l){var d=l(),m=d.select2,f=d.itemsSource,p=d.itemTemplate,v=d.selectedItemTemplate,h=d.idPath,y=d.textPath,b=d.childPath,g=d.queryText,k=d.selectedItem,j=d.selectGroupNodes,w=d.customFiltering,x=d.disabled;(void 0===m||null===m)&&(m={}),w?m.query=r(f,h,y,b,j):u(f)?m.data=function(){var e=t(f(),h,y,b,j);return{results:e}}:f&&(m.data=t(f,h,y,b,j)),p&&(m.formatResult=n(p),m.formatSelection=m.formatResult,v&&(m.formatSelection=n(v)),m.hasOwnProperty("escapeMarkup")||(m.escapeMarkup=function(e){return e})),o(s).select2(m),void 0!==x&&c(x,s),k&&a(k,s),g&&i(g,s),e.utils.domNodeDisposal.addDisposeCallback(s,function(){o(s).select2("destroy")})}var l=e.unwrap,u=e.isObservable;return{init:s}}),define("scalejs.autocomplete-select2",["knockout","./scalejs.autocomplete-select2/autocomplete"],function(e,t){e.bindingHandlers.autocomplete=t});